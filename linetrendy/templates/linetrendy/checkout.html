{% extends 'linetrendy/base.html' %}
{% load static %}

{% block content %}
<section class="bg-gray-100 min-h-screen p-4 sm:p-10">
  <div class="container mx-auto px-2 sm:px-4">
    <h1 class="text-3xl sm:text-4xl font-bold text-red-600 mb-8 text-center">Checkout</h1>

    <div class="flex flex-col lg:flex-row gap-8">
      
      <!-- Left: Payment Form -->
      <div class="w-full lg:w-2/3 bg-white shadow-md rounded-lg p-6 space-y-6">
        <h2 class="text-xl font-semibold text-gray-800 border-b pb-4">Payment Details</h2>
        
        <!-- Name on Card -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Name on Card</label>
          <input type="text" placeholder="John Doe"
                 class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
        </div>

        <!-- Card Number -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Card Number</label>
          <input type="text" placeholder="1234 5678 9012 3456"
                 class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
        </div>

        <!-- Expiry & CVV -->
        <div class="flex gap-4">
          <div class="w-1/2">
            <label class="block text-sm font-medium text-gray-700 mb-1">Expiry Date</label>
            <input type="text" placeholder="MM/YY"
                   class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
          </div>
          <div class="w-1/2">
            <label class="block text-sm font-medium text-gray-700 mb-1">CVV</label>
            <input type="password" placeholder="123"
                   class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
          </div>
        </div>
        <hr>


       <!-- Billing Address -->
        <div class="space-y-4">
            <h3 class="text-lg font-medium text-gray-800 border-b pb-2">Billing Address</h3>

            <!-- Street Address -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                <input type="text" placeholder="123 Main St"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
            </div>

            <!-- Apartment / Suite (optional) -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Apartment / Suite (Optional)</label>
                <input type="text" placeholder="Apt 4B"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
            </div>

            <!-- City & State -->
            <div class="flex gap-4">
                <div class="w-1/2">
                <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
                <input type="text" placeholder="New York"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
                </div>
                <div class="w-1/2">
                <label class="block text-sm font-medium text-gray-700 mb-1">State / Province</label>
                <input type="text" placeholder="NY"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
                </div>
            </div>

            <!-- Postal Code & Country -->
            <div class="flex gap-4">
                <div class="w-1/2">
                <label class="block text-sm font-medium text-gray-700 mb-1">ZIP / Postal Code</label>
                <input type="text" placeholder="10001"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
                </div>
                <div class="w-1/2">
                <label class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                <select class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400">
                    <option value="">Select country</option>
                    <option value="US">United States</option>
                    <option value="CA">Canada</option>
                    <option value="GB">United Kingdom</option>
                    <option value="AU">Australia</option>
                    <!-- Add more countries -->
                </select>
                </div>
            </div>
        </div>

        <!-- Disclaimer -->
        <div class="bg-gray-50 border-l-4 border-blue-400 text-gray-700 p-3 rounded-md text-sm flex items-start gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.721-1.36 3.486 0l6.516 11.6c.75 1.336-.213 3.001-1.742 3.001H3.483c-1.53 0-2.492-1.665-1.743-3.001l6.517-11.6zM11 14a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-.993.883L9 7v4a1 1 0 001.993.117L11 11V7a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
            <p>
                <span class="font-semibold">Security Notice:</span> We use secure, PCI-compliant payment processing via Stripe. 
                Your card details are <span class="font-semibold">never stored</span> on our servers.
            </p>
        </div>

        <!-- Pay Button -->
        <div class="pt-4">
          <button class="w-full bg-red-600 text-white font-semibold py-3 rounded-lg shadow-md hover:bg-red-700 transition">
            Pay Now
          </button>
        </div>
      </div>


    <!-- Right: Order Summary -->
    <div class="w-full lg:w-1/3 bg-white shadow-md rounded-lg p-6">
        <h2 class="text-xl font-semibold text-gray-800 border-b pb-4">Order Summary</h2>
        <div class="mt-4 space-y-3">

            {% for item in cart_items %}
            <div class="flex justify-between">
            <span>{{ item.product.name }} Ã— {{ item.quantity }}</span>
            <span>${{ item.product.price|floatformat:2 }}</span>
            </div>
            {% endfor %}

            <div class="flex justify-between font-medium border-t pt-2">
            <span>Subtotal</span>
            <span>${{ subtotal|floatformat:2 }}</span>
            </div>

            <div class="flex justify-between">
            <span>Shipping</span>
            <span>${{ shipping_fee|floatformat:2 }}</span>
            </div>

            {% if discount %}
            <div class="flex justify-between text-green-600">
            <span>Discount</span>
            <span>- ${{ discount|floatformat:2 }}</span>
            </div>
            {% endif %}

            <div class="flex justify-between font-bold text-lg border-t pt-2">
            <span>Total</span>
            <span>${{ final_total|floatformat:2 }}</span>
            </div>
        </div>
        </div>

    </div>
  </div>
</section>
{% endblock content %}





